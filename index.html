<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Leveling Quest</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #4a90e2;
        --secondary: #7ed321;
        --dark: #0a0a1a;
        --darker: #050510;
        --light: #e0e0ff;
        --accent: #f5a623;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      /* Accessibility: Respect reduced motion preference */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      body {
        font-family: "Roboto", sans-serif;
        color: var(--light);
        background: linear-gradient(
          -45deg,
          #0a0a1a 0%,
          #1a1a3a 25%,
          #2a2a5a 50%,
          #1a1a3a 75%,
          #0a0a1a 100%
        );
        background-size: 400% 400%;
        animation: gentleGradient 20s ease infinite;
        min-height: 100vh;
        padding: 20px;
        position: relative;
      }

      /* Subtle floating particles - doesn't interfere with selection */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background-image:
          radial-gradient(
            2px 2px at 20px 30px,
            rgba(74, 144, 226, 0.3),
            transparent
          ),
          radial-gradient(
            2px 2px at 40px 70px,
            rgba(126, 211, 33, 0.4),
            transparent
          ),
          radial-gradient(
            1px 1px at 90px 40px,
            rgba(245, 166, 35, 0.5),
            transparent
          ),
          radial-gradient(
            1px 1px at 130px 80px,
            rgba(74, 144, 226, 0.3),
            transparent
          );
        background-repeat: repeat;
        background-size: 200px 100px;
        animation: subtleFloat 25s linear infinite;
        z-index: -1;
        opacity: 0.6;
      }

      @keyframes gentleGradient {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      @keyframes subtleFloat {
        0% {
          transform: translate(0px, 0px);
        }
        100% {
          transform: translate(100px, 100px);
        }
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background-color: rgba(10, 10, 26, 0.92);
        backdrop-filter: blur(15px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
        border: 1px solid rgba(74, 144, 226, 0.3);
        animation: fadeIn 1s ease-out;
        position: relative;
        z-index: 10;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h1 {
        font-family: "Orbitron", sans-serif;
        color: var(--accent);
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5rem;
        text-shadow: 0 0 15px rgba(245, 166, 35, 0.6);
        letter-spacing: 2px;
      }

      .player-info {
        margin-bottom: 30px;
        padding: 20px;
        background: linear-gradient(
          135deg,
          rgba(74, 144, 226, 0.15),
          rgba(10, 10, 26, 0.9)
        );
        border-radius: 12px;
        border: 1px solid var(--primary);
        box-shadow: 0 8px 20px rgba(74, 144, 226, 0.2);
        position: relative;
        overflow: hidden;
      }

      .player-info::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent 30%,
          rgba(74, 144, 226, 0.05) 50%,
          transparent 70%
        );
        animation: shine 6s infinite;
        transform: rotate(45deg);
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) rotate(45deg);
        }
      }

      .player-level {
        font-family: "Orbitron", sans-serif;
        font-size: 1.8rem;
        font-weight: bold;
        margin-bottom: 10px;
        color: var(--accent);
        display: flex;
        align-items: center;
      }

      .player-level::before {
        content: "üìö";
        margin-right: 10px;
        font-size: 1.5rem;
      }

      .player-stat {
        margin-bottom: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .stat-name {
        color: var(--light);
        opacity: 0.9;
      }

      .stat-value {
        font-weight: bold;
        color: var(--accent);
      }

      .exp-bar-container {
        height: 12px;
        background-color: rgba(0, 0, 0, 0.4);
        border-radius: 6px;
        margin: 15px 0;
        overflow: hidden;
        border: 1px solid rgba(74, 144, 226, 0.3);
      }

      .exp-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--primary), var(--accent));
        border-radius: 4px;
        width: 0;
        transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        position: relative;
        overflow: hidden;
      }

      .exp-bar::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      .section-title {
        font-family: "Orbitron", sans-serif;
        font-size: 1.5rem;
        color: var(--accent);
        margin: 25px 0 15px;
        text-shadow: 0 0 8px rgba(245, 166, 35, 0.4);
        display: flex;
        align-items: center;
      }

      .section-title::before {
        content: "üéØ";
        margin-right: 10px;
        font-size: 1.2rem;
      }

      #questList {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .quest-item {
        background: linear-gradient(
          135deg,
          rgba(16, 16, 36, 0.9),
          rgba(10, 10, 26, 0.95)
        );
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid var(--primary);
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        position: relative;
        overflow: hidden;
        user-select: none;
      }

      .quest-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3);
        border-left-color: var(--accent);
      }

      .quest-item:active {
        transform: translateY(-2px);
      }

      .quest-item.completed {
        border-left-color: var(--accent);
        opacity: 0.8;
        cursor: default;
      }

      .quest-item.completed::after {
        content: "‚úì";
        position: absolute;
        top: 15px;
        right: 20px;
        color: var(--accent);
        font-size: 1.8rem;
        font-weight: bold;
      }

      .quest-title {
        font-weight: bold;
        margin-bottom: 10px;
        font-size: 1.2rem;
        color: white;
      }

      .quest-status {
        color: var(--accent);
        font-style: italic;
        font-weight: bold;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 0.7;
        }
        50% {
          opacity: 1;
        }
      }

      .quest-reward {
        color: rgba(224, 224, 255, 0.9);
        font-size: 1rem;
        display: flex;
        gap: 20px;
        margin-top: 12px;
      }

      .reward-item {
        display: flex;
        align-items: center;
        font-weight: 500;
      }

      .reward-item::before {
        content: "";
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-right: 8px;
        border-radius: 50%;
      }

      .exp-reward::before {
        background: linear-gradient(135deg, var(--primary), var(--accent));
        box-shadow: 0 0 6px rgba(245, 166, 35, 0.5);
      }

      .gold-reward::before {
        background: linear-gradient(135deg, #ffd700, #ffaa00);
        box-shadow: 0 0 6px rgba(255, 170, 0, 0.6);
      }

      button {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        cursor: pointer;
        margin-top: 25px;
        font-family: "Orbitron", sans-serif;
        font-size: 1.1rem;
        font-weight: bold;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        display: block;
        width: 100%;
        position: relative;
        overflow: hidden;
      }

      button:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(74, 144, 226, 0.5);
      }

      button:active {
        transform: translateY(-1px);
      }

      .stats-button {
        background: rgba(74, 144, 226, 0.2);
        border: 2px solid var(--primary);
        color: var(--light);
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 20px;
        transition: all 0.3s ease;
        font-family: "Orbitron", sans-serif;
        letter-spacing: 1px;
        font-size: 1rem;
        font-weight: bold;
      }

      .stats-button:hover {
        background: rgba(74, 144, 226, 0.3);
        transform: translateY(-1px);
      }

      .stats-menu {
        margin-top: 20px;
        padding: 20px;
        background: rgba(16, 16, 36, 0.9);
        border-radius: 10px;
        border: 1px solid rgba(74, 144, 226, 0.4);
        animation: slideDown 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-15px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .stat-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 15px 0;
        padding: 12px 0;
        border-bottom: 1px solid rgba(74, 144, 226, 0.3);
      }

      .stat-name {
        color: var(--light);
        font-weight: 500;
        font-size: 1.1rem;
      }

      .stat-value {
        font-weight: bold;
        color: var(--accent);
        font-size: 1.3rem;
      }

      .stat-btn {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: bold;
        font-size: 1.2rem;
        box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4);
      }

      .stat-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none !important;
      }

      .stat-btn:hover:not(:disabled) {
        transform: scale(1.15);
        box-shadow: 0 6px 16px rgba(74, 144, 226, 0.6);
      }

      .level-up {
        animation: levelUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      @keyframes levelUp {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.25);
        }
        100% {
          transform: scale(1);
        }
      }

      .notification {
        position: fixed;
        top: 25px;
        right: 25px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        padding: 18px 30px;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        transform: translateX(350px);
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        z-index: 1000;
        font-family: "Orbitron", sans-serif;
        font-weight: bold;
        font-size: 1.1rem;
        max-width: 300px;
      }

      .notification.show {
        transform: translateX(0);
      }

      @media (max-width: 600px) {
        body {
          padding: 15px;
        }
        .container {
          padding: 20px;
        }
        h1 {
          font-size: 2rem;
        }
        .player-level {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>STUDENT LEVELING QUEST</h1>

      <div class="player-info" id="playerInfo">
        <!-- Player info will be inserted here by JavaScript -->
      </div>

      <div class="section-title">Daily Study Quests</div>
      <div id="questList">
        <!-- Quests will be inserted here by JavaScript -->
      </div>

      <button id="resetButton">RESET DAILY QUESTS</button>
    </div>

    <div class="notification" id="notification"></div>

    <script>
      // Player data
      let player = {
        level: 1,
        exp: 0,
        focus: 10,
        discipline: 10,
        knowledge: 10,
        statPoints: 0,
        dailyQuestsCompleted: 0,
        studyHours: 0,
      };

      // Student quests data
      let quests = [
        {
          id: "1",
          title: "Read 30 pages of textbook",
          completed: false,
          reward: { exp: 50, studyHours: 1 },
        },
        {
          id: "2",
          title: "Solve 20 practice problems",
          completed: false,
          reward: { exp: 70, studyHours: 1.5 },
        },
        {
          id: "3",
          title: "Review lecture notes",
          completed: false,
          reward: { exp: 30, studyHours: 0.5 },
        },
        {
          id: "4",
          title: "Complete coding assignment",
          completed: false,
          reward: { exp: 100, studyHours: 2 },
        },
        {
          id: "5",
          title: "Study flashcards for 30 min",
          completed: false,
          reward: { exp: 40, studyHours: 0.5 },
        },
      ];

      let showStatMenu = false;

      // Load data from localStorage
      function loadData() {
        const savedPlayer = localStorage.getItem("studentLevelingPlayer");
        const savedQuests = localStorage.getItem("studentLevelingQuests");

        if (savedPlayer) player = JSON.parse(savedPlayer);
        if (savedQuests) quests = JSON.parse(savedQuests);

        renderApp();
      }

      // Save data to localStorage
      function saveData() {
        localStorage.setItem("studentLevelingPlayer", JSON.stringify(player));
        localStorage.setItem("studentLevelingQuests", JSON.stringify(quests));
      }

      // Show notification
      function showNotification(message) {
        const notification = document.getElementById("notification");
        notification.textContent = message;
        notification.classList.add("show");

        setTimeout(() => {
          notification.classList.remove("show");
        }, 3500);
      }

      // Complete a quest
      function completeQuest(questId) {
        const quest = quests.find((q) => q.id === questId);
        if (!quest || quest.completed) return;

        quest.completed = true;
        player.exp += quest.reward.exp;
        player.studyHours += quest.reward.studyHours;
        player.dailyQuestsCompleted += 1;

        showNotification(
          `+${quest.reward.exp} EXP | +${quest.reward.studyHours}h Study`,
        );

        // Check for level up
        const expNeeded = Math.floor(100 * Math.pow(1.2, player.level - 1));
        if (player.exp >= expNeeded) {
          player.level += 1;
          player.exp -= expNeeded;
          player.statPoints += 3;

          const levelElement = document.querySelector(".player-level");
          if (levelElement) {
            levelElement.classList.add("level-up");
            setTimeout(() => levelElement.classList.remove("level-up"), 600);
          }

          showNotification(`LEVEL UP! Student Level ${player.level} üéì`);
        }

        saveData();
        renderApp();
      }

      // Reset quests
      function resetQuests() {
        if (
          confirm(
            "Reset all daily study quests? Your overall progress stays saved!",
          )
        ) {
          quests.forEach((quest) => (quest.completed = false));
          player.dailyQuestsCompleted = 0;
          saveData();
          renderApp();
          showNotification("Daily quests reset! Fresh start! üöÄ");
        }
      }

      // Increase stat
      function increaseStat(stat) {
        if (player.statPoints > 0) {
          player[stat] += 1;
          player.statPoints -= 1;

          const statElement = document.querySelector(
            `.stat-value[data-stat="${stat}"]`,
          );
          if (statElement) {
            statElement.classList.add("level-up");
            setTimeout(() => statElement.classList.remove("level-up"), 300);
          }

          showNotification(`${stat.toUpperCase()} +1 = ${player[stat]}!`);
          saveData();
          renderApp();
        }
      }

      // Toggle stat menu
      function toggleStatMenu() {
        showStatMenu = !showStatMenu;
        renderApp();
      }

      // Render app
      function renderApp() {
        renderPlayerInfo();
        renderQuestList();
      }

      // Render player info
      function renderPlayerInfo() {
        const expNeeded = Math.floor(100 * Math.pow(1.2, player.level - 1));
        const expPercentage = Math.min(100, (player.exp / expNeeded) * 100);

        let statsMenuHTML = "";
        if (showStatMenu) {
          statsMenuHTML = `
          <div class="stats-menu">
            <div class="stat-row">
              <span class="stat-name">FOCUS</span>
              <span class="stat-value" data-stat="focus">${player.focus}</span>
              <div class="stat-btn" onclick="increaseStat('focus')" ${player.statPoints === 0 ? "disabled" : ""}>+</div>
            </div>
            <div class="stat-row">
              <span class="stat-name">DISCIPLINE</span>
              <span class="stat-value" data-stat="discipline">${player.discipline}</span>
              <div class="stat-btn" onclick="increaseStat('discipline')" ${player.statPoints === 0 ? "disabled" : ""}>+</div>
            </div>
            <div class="stat-row">
              <span class="stat-name">KNOWLEDGE</span>
              <span class="stat-value" data-stat="knowledge">${player.knowledge}</span>
              <div class="stat-btn" onclick="increaseStat('knowledge')" ${player.statPoints === 0 ? "disabled" : ""}>+</div>
            </div>
          </div>
        `;
        }

        document.getElementById("playerInfo").innerHTML = `
        <div class="player-level">STUDENT LEVEL ${player.level}</div>
        <div class="player-stat">
          <span class="stat-name">EXP:</span>
          <span class="stat-value">${player.exp}/${expNeeded}</span>
        </div>
        <div class="exp-bar-container">
          <div class="exp-bar" style="width: ${expPercentage}%"></div>
        </div>
        <div class="player-stat">
          <span class="stat-name">STUDY HOURS:</span>
          <span class="stat-value">${player.studyHours.toFixed(1)}h</span>
        </div>
        <div class="player-stat">
          <span class="stat-name">QUESTS:</span>
          <span class="stat-value">${player.dailyQuestsCompleted}/${quests.length}</span>
        </div>
        <div class="stats-button" onclick="toggleStatMenu()">
          STAT POINTS: ${player.statPoints} ${player.statPoints > 0 ? "‚≠ê‚≠ê‚≠ê" : ""}
        </div>
        ${statsMenuHTML}
      `;
      }

      // Render quest list
      function renderQuestList() {
        const questListHTML = quests
          .map(
            (quest) => `
        <div class="quest-item ${quest.completed ? "completed" : ""}" 
             data-id="${quest.id}"
             onclick="${!quest.completed ? `completeQuest('${quest.id}')` : ""}">
          <div class="quest-title">${quest.title}</div>
          ${
            quest.completed
              ? '<div class="quest-status">‚úÖ QUEST COMPLETE</div>'
              : `<div class="quest-reward">
              <span class="reward-item exp-reward">${quest.reward.exp} EXP</span>
              <span class="reward-item gold-reward">${quest.reward.studyHours}h STUDY</span>
            </div>`
          }
        </div>
      `,
          )
          .join("");

        document.getElementById("questList").innerHTML = questListHTML;
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("resetButton")
          .addEventListener("click", resetQuests);
        loadData();
      });
    </script>
  </body>
</html>
